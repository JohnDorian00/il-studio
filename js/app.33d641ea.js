(function(){"use strict";var a={8256:function(a,e,t){var i=t(9242),d=t(3396);function s(a,e,t,i,s,v){return(0,d.wg)(),(0,d.j4)((0,d.LL)(s.currentView),{token:s.token,userId:s.userId,infoForRoom:s.infoForRoom},null,8,["token","userId","infoForRoom"])}var v=t(8541);const o=a=>((0,d.dD)("data-v-17dedf80"),a=a(),(0,d.Cn)(),a),n={class:"authForm"},r=o((()=>(0,d._)("div",{class:"header"},[(0,d._)("div",null,"–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è")],-1))),c={class:"frame"};function l(a,e,t,s,v,o){return(0,d.wg)(),(0,d.iD)("div",n,[r,(0,d._)("div",c,[(0,d.wy)((0,d._)("input",{autofocus:"",class:"inp1",placeholder:"–õ–æ–≥–∏–Ω","onUpdate:modelValue":e[0]||(e[0]=a=>v.login=a)},null,512),[[i.nr,v.login]]),(0,d.wy)((0,d._)("input",{class:"inp2",placeholder:"–ü–∞—Ä–æ–ª—å","onUpdate:modelValue":e[1]||(e[1]=a=>v.pass=a)},null,512),[[i.nr,v.pass]]),(0,d._)("button",{onClick:e[2]||(e[2]=(...a)=>o.auth&&o.auth(...a))},"–í–æ–π—Ç–∏")])])}var f={name:"AuthView",props:{token:String},setup(){const{cookies:a}=(0,v.fP)();return{cookies:a}},data(){return{login:"",pass:""}},methods:{auth:function(){this.emitter.emit("auth",{login:this.login,pass:this.pass})},pressEnter:function(a){"Enter"===a.key&&"button"!==document.activeElement.tagName.toLowerCase()&&this.auth()}},mounted:function(){document.addEventListener("keypress",this.pressEnter),document.getElementById("app").style.backgroundSize="cover"},unmounted(){document.getElementById("app").style.backgroundSize="0px 0px",document.removeEventListener("keypress",this.pressEnter)}},m=t(89);const u=(0,m.Z)(f,[["render",l],["__scopeId","data-v-17dedf80"]]);var h=u,g=t(7139);const p=a=>((0,d.dD)("data-v-4b5949d5"),a=a(),(0,d.Cn)(),a),b={class:"authForm"},k=p((()=>(0,d._)("div",{class:"header"},[(0,d._)("div",null,"–í—ã–±–µ—Ä–∏—Ç–µ / —Å–æ–∑–¥–∞–π—Ç–µ —á–∞—Ç")],-1))),w={class:"frame"},y=["data-room-id"],O={class:"row createChat"};function _(a,e,t,s,v,o){return(0,d.wg)(),(0,d.iD)(d.HY,null,[(0,d._)("button",{class:"exitBut",onClick:e[0]||(e[0]=(...a)=>o.logoff&&o.logoff(...a))}),(0,d._)("div",b,[k,(0,d._)("div",w,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(v.rooms,(a=>((0,d.wg)(),(0,d.iD)("div",{key:a.name,class:"row"},[(0,d._)("div",null,[(0,d._)("p",null,(0,g.zw)(a.name),1),(0,d._)("button",{"data-room-id":a.id,onClick:e[1]||(e[1]=(...a)=>o.joinRoom&&o.joinRoom(...a))},null,8,y)])])))),128)),(0,d._)("div",O,[(0,d.wy)((0,d._)("input",{autofocus:"",placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞","onUpdate:modelValue":e[2]||(e[2]=a=>v.roomName=a)},null,512),[[i.nr,v.roomName]]),(0,d._)("button",{onClick:e[3]||(e[3]=(...a)=>o.createRoom&&o.createRoom(...a))},"–°–æ–∑–¥–∞—Ç—å")])])])],64)}t(7658);var T={name:"ChooseChatView",props:{token:String,userId:String},setup(){const{cookies:a}=(0,v.fP)();return{cookies:a}},data(){return{rooms:[{id:0,name:"test room"}],roomName:""}},created(){this.refreshRooms()},methods:{logoff:function(){this.cookies.remove("token"),this.emitter.emit("changeView",{view:"AuthView"})},refreshRooms:async function(){},createRoom:async function(){if(this.roomName)try{let a={"Content-Type":"application/json"};this.token?a.token=this.token:this.logoff();let e=await fetch("http://"+this.backendIp+":8000/create_room/",{method:"POST",headers:a,body:JSON.stringify({room_name:this.roomName})});200===e.status&&await this.refreshRooms()}catch(a){console.log(a)}},pressEnter:function(a){"Enter"===a.key&&"button"!==document.activeElement.tagName.toLowerCase()&&this.createRoom()},joinRoom:function(a){try{let e=a.target.dataset.roomId;this.emitter.emit("changeView",{view:"ChatView",infoForRoom:{roomId:e}})}catch(a){console.log(a)}}},mounted(){document.getElementById("app").style.background="#F4F4F4",document.addEventListener("keypress",this.pressEnter)},unmounted(){document.getElementById("app").style.background="",document.removeEventListener("keypress",this.pressEnter)}};const C=(0,m.Z)(T,[["render",_],["__scopeId","data-v-4b5949d5"]]);var V=C,x=t.p+"img/check2.eb44f220.svg",I=t.p+"img/bubble_left.4b908d68.svg",B=t.p+"img/check.252325d1.svg",E=t.p+"img/top-vector-tip.b5a1ec7d.svg";const R=a=>((0,d.dD)("data-v-0aa752ef"),a=a(),(0,d.Cn)(),a),A={class:"chat"},F={class:"header"},M=R((()=>(0,d._)("div",{class:"label"},[(0,d._)("div",{class:"label1"},"–ü–µ—Ä–≤–∞—è –∫–æ–º–Ω–∞—Ç–∞"),(0,d._)("div",{class:"label2"},"2 —É—á–∞—Å—Ç–Ω–∏–∫–∞")],-1))),j={class:"exitDiv"},S=(0,d.uE)('<div class="frame" data-v-0aa752ef><div class="msg time" data-v-0aa752ef>28.10.2022</div><div class="msg meMargin" data-v-0aa752ef><div class="me" data-v-0aa752ef><div class="mainBody" data-v-0aa752ef><div class="msgText" data-v-0aa752ef><div data-v-0aa752ef>–ü—Ä–∏–≤–µ—Ç üëã</div></div><div class="timeApprove" data-v-0aa752ef><div class="msgTime" data-v-0aa752ef>11:31</div><div class="approve" data-v-0aa752ef><img src="'+x+'" data-v-0aa752ef></div></div></div><div class="bubble" data-v-0aa752ef><img src="'+I+'" data-v-0aa752ef></div></div></div><div class="msg meMargin" data-v-0aa752ef><div class="me second" data-v-0aa752ef><div class="mainBody" data-v-0aa752ef><div class="msgText" data-v-0aa752ef><div data-v-0aa752ef>–ö–∞–∫ —É—Å–ø–µ—Ö–∏ –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–¥–∞?</div></div><div class="timeApprove" data-v-0aa752ef><div class="msgTime" data-v-0aa752ef>11:31</div><div class="approve" data-v-0aa752ef><img src="'+B+'" data-v-0aa752ef></div></div></div></div></div><div class="msg otherMargin" data-v-0aa752ef><div class="other" data-v-0aa752ef><div class="bubbleOther" data-v-0aa752ef><img src="'+E+'" data-v-0aa752ef></div><div class="mainBodyOther" data-v-0aa752ef><div class="msgTextOther" data-v-0aa752ef><div class="nickname" data-v-0aa752ef> Username </div><div data-v-0aa752ef>–û—Ç–ª–∏—á–Ω–æ! –ü–æ–≤–æ–∑–∏–ª—Å—è —Å websocket‚Äôa–º–∏, –Ω–æ —Å–µ–π—á–∞—Å –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç.</div></div><div class="timeApproveOther" data-v-0aa752ef><div class="msgTimeOther" data-v-0aa752ef>11:31</div></div></div></div></div><div class="msg meMargin" data-v-0aa752ef><div class="me" data-v-0aa752ef><div class="mainBody" data-v-0aa752ef><div class="msgText" data-v-0aa752ef><div data-v-0aa752ef>–ò –¥–∞–∂–µ –≥–∞–ª–æ—á–∫–∏ –æ –¥–æ—Å—Ç–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è?</div></div><div class="timeApprove" data-v-0aa752ef><div class="msgTime" data-v-0aa752ef>11:31</div><div class="approve" data-v-0aa752ef><img src="'+x+'" data-v-0aa752ef></div></div></div><div class="bubble" data-v-0aa752ef><img src="'+I+'" data-v-0aa752ef></div></div></div><div class="msg otherMargin" data-v-0aa752ef><div class="other" data-v-0aa752ef><div class="bubbleOther" data-v-0aa752ef><img src="'+E+'" data-v-0aa752ef></div><div class="mainBodyOther" data-v-0aa752ef><div class="msgTextOther" data-v-0aa752ef><div class="nickname" data-v-0aa752ef> Username </div><div data-v-0aa752ef>–î–∞, –∫–æ–Ω–µ—á–Ω–æ!</div></div><div class="timeApproveOther" data-v-0aa752ef><div class="msgTimeOther" data-v-0aa752ef>11:31</div></div></div></div></div><div class="msg otherMargin" data-v-0aa752ef><div class="other" data-v-0aa752ef><div class="bubbleOther" data-v-0aa752ef><img src="'+E+'" data-v-0aa752ef></div><div class="mainBodyOther" data-v-0aa752ef><div class="msgTextOther" data-v-0aa752ef><div class="nickname" data-v-0aa752ef> Username </div><div data-v-0aa752ef>–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î, –∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∫–æ–º–Ω–∞—Ç—É —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è. –ü–æ–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≤ —á–∞—Ç–µ, —Ç–æ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ WS.</div></div><div class="timeApproveOther" data-v-0aa752ef><div class="msgTimeOther" data-v-0aa752ef>11:31</div></div></div></div></div><div class="msg meMargin" data-v-0aa752ef><div class="me" data-v-0aa752ef><div class="mainBody" data-v-0aa752ef><div class="msgText" data-v-0aa752ef><div data-v-0aa752ef>–ö–ª–∞—Å—Å üëç</div></div><div class="timeApprove" data-v-0aa752ef><div class="msgTime" data-v-0aa752ef>11:31</div><div class="approve" data-v-0aa752ef><img src="'+x+'" data-v-0aa752ef></div></div></div><div class="bubble" data-v-0aa752ef><img src="'+I+'" data-v-0aa752ef></div></div></div><div class="msg time" data-v-0aa752ef>28.10.2022</div><div class="msg meMargin" data-v-0aa752ef><div class="me" data-v-0aa752ef><div class="mainBody" data-v-0aa752ef><div class="msgText" data-v-0aa752ef><div data-v-0aa752ef>–ü—Ä–∏–≤–µ—Ç üëã</div></div><div class="timeApprove" data-v-0aa752ef><div class="msgTime" data-v-0aa752ef>11:31</div><div class="approve" data-v-0aa752ef><img src="'+x+'" data-v-0aa752ef></div></div></div><div class="bubble" data-v-0aa752ef><img src="'+I+'" data-v-0aa752ef></div></div></div><div class="msg meMargin" data-v-0aa752ef><div class="me second" data-v-0aa752ef><div class="mainBody" data-v-0aa752ef><div class="msgText" data-v-0aa752ef><div data-v-0aa752ef>–ö–∞–∫ —É—Å–ø–µ—Ö–∏ –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–¥–∞?</div></div><div class="timeApprove" data-v-0aa752ef><div class="msgTime" data-v-0aa752ef>11:31</div><div class="approve" data-v-0aa752ef><img src="'+B+'" data-v-0aa752ef></div></div></div></div></div><div class="msg otherMargin" data-v-0aa752ef><div class="other" data-v-0aa752ef><div class="bubbleOther" data-v-0aa752ef><img src="'+E+'" data-v-0aa752ef></div><div class="mainBodyOther" data-v-0aa752ef><div class="msgTextOther" data-v-0aa752ef><div class="nickname" data-v-0aa752ef> Username </div><div data-v-0aa752ef>–û—Ç–ª–∏—á–Ω–æ! –ü–æ–≤–æ–∑–∏–ª—Å—è —Å websocket‚Äôa–º–∏, –Ω–æ —Å–µ–π—á–∞—Å –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç.</div></div><div class="timeApproveOther" data-v-0aa752ef><div class="msgTimeOther" data-v-0aa752ef>11:31</div></div></div></div></div><div class="msg meMargin" data-v-0aa752ef><div class="me" data-v-0aa752ef><div class="mainBody" data-v-0aa752ef><div class="msgText" data-v-0aa752ef><div data-v-0aa752ef>–ò –¥–∞–∂–µ –≥–∞–ª–æ—á–∫–∏ –æ –¥–æ—Å—Ç–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è?</div></div><div class="timeApprove" data-v-0aa752ef><div class="msgTime" data-v-0aa752ef>11:31</div><div class="approve" data-v-0aa752ef><img src="'+x+'" data-v-0aa752ef></div></div></div><div class="bubble" data-v-0aa752ef><img src="'+I+'" data-v-0aa752ef></div></div></div><div class="msg otherMargin" data-v-0aa752ef><div class="other" data-v-0aa752ef><div class="bubbleOther" data-v-0aa752ef><img src="'+E+'" data-v-0aa752ef></div><div class="mainBodyOther" data-v-0aa752ef><div class="msgTextOther" data-v-0aa752ef><div class="nickname" data-v-0aa752ef> Username </div><div data-v-0aa752ef>–î–∞, –∫–æ–Ω–µ—á–Ω–æ!</div></div><div class="timeApproveOther" data-v-0aa752ef><div class="msgTimeOther" data-v-0aa752ef>11:31</div></div></div></div></div><div class="msg otherMargin" data-v-0aa752ef><div class="other" data-v-0aa752ef><div class="bubbleOther" data-v-0aa752ef><img src="'+E+'" data-v-0aa752ef></div><div class="mainBodyOther" data-v-0aa752ef><div class="msgTextOther" data-v-0aa752ef><div class="nickname" data-v-0aa752ef> Username </div><div data-v-0aa752ef>–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î, –∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∫–æ–º–Ω–∞—Ç—É —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è. –ü–æ–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≤ —á–∞—Ç–µ, —Ç–æ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ WS.</div></div><div class="timeApproveOther" data-v-0aa752ef><div class="msgTimeOther" data-v-0aa752ef>11:31</div></div></div></div></div><div class="msg meMargin" data-v-0aa752ef><div class="me" data-v-0aa752ef><div class="mainBody" data-v-0aa752ef><div class="msgText" data-v-0aa752ef><div data-v-0aa752ef>–ö–ª–∞—Å—Å üëç</div></div><div class="timeApprove" data-v-0aa752ef><div class="msgTime" data-v-0aa752ef>11:31</div><div class="approve" data-v-0aa752ef><img src="'+x+'" data-v-0aa752ef></div></div></div><div class="bubble" data-v-0aa752ef><img src="'+I+'" data-v-0aa752ef></div></div></div></div><div class="footer" data-v-0aa752ef><div class="message" data-v-0aa752ef><input placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ..." data-v-0aa752ef></div><div class="sendBut" data-v-0aa752ef><button data-v-0aa752ef></button></div></div>',2);function D(a,e,t,i,s,v){return(0,d.wg)(),(0,d.iD)("div",A,[(0,d._)("div",F,[M,(0,d._)("div",j,[(0,d._)("button",{onClick:e[0]||(e[0]=(...a)=>v.logoff&&v.logoff(...a))})])]),S])}var N={name:"ChatView",props:{token:String,userId:String,infoForRoom:Object},mounted(){console.log(this.infoForRoom,this.userId)},methods:{logoff:function(){console.log(123),this.emitter.emit("changeView",{view:"ChooseChatView"})}}};const P=(0,m.Z)(N,[["render",D],["__scopeId","data-v-0aa752ef"]]);var U=P,L={name:"App",setup(){const{cookies:a}=(0,v.fP)();return{cookies:a}},data(){return{currentView:null,token:this.cookies.get("token"),userId:null,infoForRoom:{}}},created(){this.emitter.on("auth",(a=>{this.auth(a.login,a.pass)})),this.emitter.on("changeView",(a=>{this.changeView(a)})),this.token?this.auth(null,null,this.token):this.currentView=h},methods:{changeView:function(a){switch(a.infoForRoom&&(this.infoForRoom=a.infoForRoom),a.view){case"AuthView":this.currentView=h;break;case"ChooseChatView":this.currentView=V;break;case"ChatView":this.currentView=U;break}},auth:async function(a,e,t){this.token=123,this.userId=321,this.changeView({view:"ChooseChatView"});try{let i={"Content-Type":"application/json"};t&&(i.token=t);let d=await fetch("http://"+this.backendIp+":8000/auth/",{method:"POST",headers:i,body:JSON.stringify({login:a,pass:e})});if(200===d.status){let a=JSON.parse(await d.json()),e=a[0],t=new Date(Date.parse(a[1])),i=a[2];this.cookies.set("token",e,t),this.token=e,this.userId=i,this.changeView({view:"ChooseChatView"})}}catch(i){console.log(i)}}}};const Z=(0,m.Z)(L,[["render",s]]);var z=Z,J=t(1373);const H=(0,J.Z)(),W=(0,i.ri)(z);W.config.globalProperties.emitter=H,W.config.globalProperties.backendIp="192.168.1.236",W.mount("#app")}},e={};function t(i){var d=e[i];if(void 0!==d)return d.exports;var s=e[i]={exports:{}};return a[i](s,s.exports,t),s.exports}t.m=a,function(){var a=[];t.O=function(e,i,d,s){if(!i){var v=1/0;for(c=0;c<a.length;c++){i=a[c][0],d=a[c][1],s=a[c][2];for(var o=!0,n=0;n<i.length;n++)(!1&s||v>=s)&&Object.keys(t.O).every((function(a){return t.O[a](i[n])}))?i.splice(n--,1):(o=!1,s<v&&(v=s));if(o){a.splice(c--,1);var r=d();void 0!==r&&(e=r)}}return e}s=s||0;for(var c=a.length;c>0&&a[c-1][2]>s;c--)a[c]=a[c-1];a[c]=[i,d,s]}}(),function(){t.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return t.d(e,{a:e}),e}}(),function(){t.d=function(a,e){for(var i in e)t.o(e,i)&&!t.o(a,i)&&Object.defineProperty(a,i,{enumerable:!0,get:e[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){t.p="/il-studio/"}(),function(){var a={143:0};t.O.j=function(e){return 0===a[e]};var e=function(e,i){var d,s,v=i[0],o=i[1],n=i[2],r=0;if(v.some((function(e){return 0!==a[e]}))){for(d in o)t.o(o,d)&&(t.m[d]=o[d]);if(n)var c=n(t)}for(e&&e(i);r<v.length;r++)s=v[r],t.o(a,s)&&a[s]&&a[s][0](),a[s]=0;return t.O(c)},i=self["webpackChunkfront_vue"]=self["webpackChunkfront_vue"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(8256)}));i=t.O(i)})();
//# sourceMappingURL=app.33d641ea.js.map